"use strict";
$(window).on("load", function () {
    setTimeout(function () {
        $(".page-loader").fadeOut()
    }, 500)
}), $(window).on("scroll", function () {
    $(window).scrollTop() >= 20 ? $(".header").addClass("header--scrolled") : $(".header").removeClass("header--scrolled")
}), $(document).ready(function () {
    if ($(".clock")[0]) {
        var a = new Date;
        a.setDate(a.getDate()), setInterval(function () {
            var a = (new Date).getSeconds();
            $(".time__sec").html((a < 10 ? "0" : "") + a)
        }, 1e3), setInterval(function () {
            var a = (new Date).getMinutes();
            $(".time__min").html((a < 10 ? "0" : "") + a)
        }, 1e3), setInterval(function () {
            var a = (new Date).getHours();
            $(".time__hours").html((a < 10 ? "0" : "") + a)
        }, 1e3)
    }
    $("body").on("click", ".themes__item", function (a) {
        a.preventDefault(), $(".themes__item").removeClass("active"), $(this).addClass("active");
        var b = $(this).data("sa-value");
        $("body").attr("data-sa-theme", b)
    }), $("body").on("focus", ".search__text", function () {
        $(this).closest(".search").addClass("search--focus")
    }), $("body").on("blur", ".search__text", function () {
        $(this).val(""), $(this).closest(".search").removeClass("search--focus")
    }), $("body").on("click", ".navigation__sub > a", function (a) {
        a.preventDefault(), $(this).parent().toggleClass("navigation__sub--toggled"), $(this).next("ul").slideToggle(250)
    }), $(".form-group--float")[0] && ($(".form-group--float").each(function () {
        0 == !$(this).find(".form-control").val().length && $(this).find(".form-control").addClass("form-control--active")
    }), $("body").on("blur", ".form-group--float .form-control", function () {
        0 == $(this).val().length ? $(this).removeClass("form-control--active") : $(this).addClass("form-control--active")
    })), $("body").on("click", ".dropdown-menu--active", function (a) {
        a.stopPropagation()
    })
}), $("#dropzone-upload")[0] && (Dropzone.autoDiscover = !1), $(document).ready(function () {
    
    if ($("#input-slider-range")[0]) {
        var c = document.getElementById("input-slider-range"),
            d = document.getElementById("input-slider-range-value-1"),
            e = document.getElementById("input-slider-range-value-2"), f = [d, e];
        noUiSlider.create(c, {
            start: [20, 80],
            connect: !0,
            range: {min: 0, max: 100}
        }), c.noUiSlider.on("update", function (a, b) {
            f[b].value = a[b]
        })
    }
    if ($(".input-slider")[0]) for (var g = document.getElementsByClassName("input-slider"), h = 0; h < g.length; h++) noUiSlider.create(g[h], {
        start: [20],
        connect: "lower",
        range: {min: 0, max: 100}
    });
    if ($(".notes__body")[0]) {
        var k;
        $(".notes__body").each(function (a, b) {
            k = $(this).prev().is(".notes__title") ? 4 : 6, $clamp(b, {clamp: k})
        })
    }
}), $(document).ready(function () {
    function a(a) {
        a.requestFullscreen ? a.requestFullscreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullscreen ? a.webkitRequestFullscreen() : a.msRequestFullscreen && a.msRequestFullscreen()
    }

    $("body").on("click", "[data-sa-action]", function (b) {
        b.preventDefault();
        var c = $(this), d = c.data("sa-action"), e = "";
        switch (d) {
            case"search-open":
                $(".search").addClass("search--toggled");
                break;
            case"search-close":
                $(".search").removeClass("search--toggled");
                break;
            case"aside-open":
                e = c.data("sa-target"), c.addClass("toggled"), $("body").addClass("aside-toggled"), $(e).addClass("toggled"), $(".content, .header").append('<div class="sa-backdrop" data-sa-action="aside-close" data-sa-target=' + e + " />");
                break;
            case"aside-close":
                e = c.data("sa-target"), $("body").removeClass("aside-toggled"), $('[data-sa-action="aside-open"], ' + e).removeClass("toggled"), $(".content, .header").find(".sa-backdrop").remove();
                break;
            case"fullscreen":
                a(document.documentElement);
                break;
            case"print":
                window.print();
                break;
            case"login-switch":
                e = c.data("sa-target"), $(".login__block").removeClass("active"), $(e).addClass("active");
                break;
            case"notifications-clear":
                b.stopPropagation();
                var f = $(".top-nav__notifications .listview__item"), g = f.length, h = 0;
                c.fadeOut(), f.each(function () {
                    var a = $(this);
                    setTimeout(function () {
                        a.addClass("animated fadeOutRight")
                    }, h += 150)
                }), setTimeout(function () {
                    f.remove(), $(".top-nav__notifications").addClass("top-nav__notifications--cleared")
                }, 180 * g);
                break;
            case"toolbar-search-open":
                $(this).closest(".toolbar").find(".toolbar__search").fadeIn(200), $(this).closest(".toolbar").find(".toolbar__search input").focus();
                break;
            case"toolbar-search-close":
                $(this).closest(".toolbar").find(".toolbar__search input").val(""), $(this).closest(".toolbar").find(".toolbar__search").fadeOut(200)
        }
    })
}),$(document).ready(function() {
	
	selectPage();
    getContents();
	
});

function selectPage() {

	$('#navHome').click(function(){
		$('#home_div').show();
		$('#about_div').hide();
		$('#models_div').hide();
		$('#contacts_div').hide(); 	  
        $('#navHome').addClass("navigation__active");
        $('#navAbout').removeClass("navigation__active");
        $('#navModels').removeClass("navigation__active");
        $('#navContacts').removeClass("navigation__active");

	});

	$('#navAbout').click(function(){
		$('#home_div').hide();
		$('#about_div').show();
		$('#models_div').hide();
		$('#contacts_div').hide(); 	  
        $('#navAbout').addClass("navigation__active");
        $('#navHome').removeClass("navigation__active");
        $('#navModels').removeClass("navigation__active");
        $('#navContacts').removeClass("navigation__active");
	});

	$('#navModels').click(function(){
		$('#home_div').hide();
		$('#about_div').hide();
		$('#models_div').show();
		$('#contacts_div').hide(); 	
        $('#navModels').addClass("navigation__active");
        $('#navHome').removeClass("navigation__active");
        $('#navAbout').removeClass("navigation__active");
        $('#navContacts').removeClass("navigation__active");
	});

    $('#navContacts').click(function(){
		$('#home_div').hide();
		$('#about_div').hide();
		$('#models_div').hide();
		$('#contacts_div').show(); 	
        $('#navContacts').addClass("navigation__active");
        $('#navHome').removeClass("navigation__active");
        $('#navAbout').removeClass("navigation__active");
        $('#navModels').removeClass("navigation__active");
	});
}
var select_md = 0;
function cokeScene(){
    select_md = 0;
    document.getElementById('SceneSwitch').setAttribute('whichChoice', 0);
    document.getElementById('content_body').innerHTML = obj_contents[0].content;
}

function spriteScene(){
    select_md = 1;
    document.getElementById('SceneSwitch').setAttribute('whichChoice', 1);
    document.getElementById('content_body').innerHTML = obj_contents[1].content;
}

function pepperScene(){
    select_md = 2;
    document.getElementById('SceneSwitch').setAttribute('whichChoice', 2);
    document.getElementById('content_body').innerHTML = obj_contents[2].content;
}

function cokeDescription() {
	$("button").click(function(){
		
		$("#x3dModelTitle_coke").show();
		$("#x3dModelTitle_sprite").hide();
		$("#x3dModelTitle_pepper").hide();

		$("#x3dCreationMethod_coke").show();
		$("#x3dCreationMethod_sprite").hide();
		$("#x3dCreationMethod_pepper").hide();

    }); 
}

function spriteDescription() {
    $("button").click(function(){

		$("#x3dModelTitle_coke").hide();
		$("#x3dModelTitle_sprite").show();
		$("#x3dModelTitle_pepper").hide();

		$("#x3dCreationMethod_coke").hide();
		$("#x3dCreationMethod_sprite").show();
		$("#x3dCreationMethod_pepper").hide();
    }); 
}

function pepperDescription() {
    $("button").click(function(){

		$("#x3dModelTitle_coke").hide();
		$("#x3dModelTitle_sprite").hide();
		$("#x3dModelTitle_pepper").show();

		$("#x3dCreationMethod_coke").hide();
		$("#x3dCreationMethod_sprite").hide();
		$("#x3dCreationMethod_pepper").show();
    }); 
}

var spinning = false;

function spin()
{
	spinning = !spinning;
    if(select_md == 0)
	    document.getElementById('model__RotationTimer').setAttribute('enabled', spinning.toString());
    if(select_md == 1)
        document.getElementById('model__RotationTimer1').setAttribute('enabled', spinning.toString());
    if(select_md == 2)
        document.getElementById('model__RotationTimer2').setAttribute('enabled', spinning.toString());
}

function stopRotation()
{
	spinning = false;
	document.getElementById('model__RotationTimer').setAttribute('enabled', spinning.toString());
    document.getElementById('model__RotationTimer1').setAttribute('enabled', spinning.toString());
    document.getElementById('model__RotationTimer2').setAttribute('enabled', spinning.toString());
}

function animateModel()
{
    if(select_md == 0){
        if(document.getElementById('model__RotationTimer').getAttribute('enabled')!= 'true')
            document.getElementById('model__RotationTimer').setAttribute('enabled', 'true');
        else
            document.getElementById('model__RotationTimer').setAttribute('enabled', 'false');
    }
        
    if(select_md == 1){
        if(document.getElementById('model__RotationTimer1').getAttribute('enabled')!= 'true')
            document.getElementById('model__RotationTimer1').setAttribute('enabled', 'true');
        else
            document.getElementById('model__RotationTimer1').setAttribute('enabled', 'false');
    }
    if(select_md == 2){
        if(document.getElementById('model__RotationTimer2').getAttribute('enabled')!= 'true')
            document.getElementById('model__RotationTimer2').setAttribute('enabled', 'true');
        else
            document.getElementById('model__RotationTimer2').setAttribute('enabled', 'false');
    }
}

function wireFrame()
{
	var e = document.getElementById('wire');
	e.runtime.togglePoints(true);
	e.runtime.togglePoints(true);
}

function unwireFrame()
{
	var e = document.getElementById('wire');
	e.runtime.togglePoints(false);
	e.runtime.togglePoints(false);
}

var lightOn = true;

function headLight()
{
	lightOn = !lightOn;
	document.getElementById('model__headlight').setAttribute('headlight', lightOn.toString());
	console.log(lightOn);
}

function omniLight()
{
	lightOn = !lightOn;
	document.getElementById('model__omniLight').setAttribute('headlight', lightOn.toString());
	console.log(lightOn);
}

function targetLight()
{
	lightOn = !lightOn;
	document.getElementById('model__targetLight').setAttribute('headlight', lightOn.toString());
	console.log(lightOn);
}

function cameraFront()
{
    if(select_md == 0)
        document.getElementById('model__cfront0').setAttribute('bind', 'true');
    if(select_md == 1)
        document.getElementById('model__cfront1').setAttribute('bind', 'true');
    if(select_md == 2)
        document.getElementById('model__cfront2').setAttribute('bind', 'true');
}

function cameraBack()
{
    if(select_md == 0)
        document.getElementById('model__cback0').setAttribute('bind', 'true');
    if(select_md == 1)
        document.getElementById('model__cback1').setAttribute('bind', 'true');
    if(select_md == 2)
        document.getElementById('model__cback2').setAttribute('bind', 'true');
}

function cameraLeft()
{
    if(select_md == 0)
        document.getElementById('model__cleft0').setAttribute('bind', 'true');
    if(select_md == 1)
        document.getElementById('model__cleft1').setAttribute('bind', 'true');
    if(select_md == 2)
        document.getElementById('model__cleft2').setAttribute('bind', 'true');
}

function cameraRight()
{
    if(select_md == 0)
        document.getElementById('model__cright0').setAttribute('bind', 'true');
    if(select_md == 1)
        document.getElementById('model__cright1').setAttribute('bind', 'true');
    if(select_md == 2)
        document.getElementById('model__cright2').setAttribute('bind', 'true');
}
var obj_contents = [];
function getContents() {
    $.ajax({  
        url: 'api.php/getall',   
        type: 'GET',  
        dataType: 'json',  
        success: function(data) {  
            obj_contents = data;
        },  
        error: function(jqXHR, textStatus, errorThrown) {  
            console.log('Error: ' + textStatus, errorThrown);  
        }  
    });
    
}